---
title: Collector for docker containers
tags:
  - Integrations
  - Open source telemetry integrations
  - OpenTelemetry
  - Docker
  - Container
metaDescription: You can collect docker container metrics using the OpenTelemetry collector.
---
You can collect metrics about your Docker containers with the OpenTelemetry collector. The collector is a component of OpenTelemetry that collects, processes, and exports telemetry data to New Relic (or any observability backend).

<Callout variant="tip">
  If you're looking for help with other collector use cases, see the [newrelic-opentelemetry-examples](https://github.com/newrelic/newrelic-opentelemetry-examples) repository.
</Callout>

Complete the steps below to collect metrics from docker containers:

## Step 1: Sign up for your free account if you haven't already [#signup]

<InlineSignup />

## Step 2: Prerequisites [#prerequisites]

The collector will use the [dockerstats receiver](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/dockerstatsreceiver) component and it only supports Linux.

Additionally, it requires access to the docker daemon through an endpoint:

* By default `unix:///var/run/docker.sock` is used which requires running the collector with an user able to read the docker socket.

## Step 3: Install Opentelemetry collector [#install-opentelemetry-collector]

Download and install the Opentelemetry collector following [Opentelemetry docs](https://opentelemetry.io/docs/collector/getting-started/).

You will need to install [OpenTelemetry Collector Contrib Distro](https://github.com/open-telemetry/opentelemetry-collector-releases/tree/main/distributions/otelcol-contrib) or other distribution including, at least, the following components:

* [dockerstats receiver](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/dockerstatsreceiver)
* [resource processor](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/processor/resourceprocessor)
* [otlp exporter](https://pkg.go.dev/go.opentelemetry.io/collector/exporter/otlpexporter)

## Step 4: Configure Opentelemetry collector [#configure-opentelemetry-collector]

Create a new file called `config.yaml` from the example below.

Replace the following keys in the file with your own values:

* [New Relic License key](/docs/apis/intro-apis/new-relic-api-keys/#license-key):
	* `NEW_RELIC_LICENSE_KEY`


```yaml
receivers:
  dockerstats: #TODO: include additional metrics to be enabled by default

processors:
  resource:
    attributes:
    - key: nr.entity_type # Needed to synthesize container entities from metrics
      value: container
      action: upsert

exporters:
  otlp:
    endpoint: https://otlp.nr-data.net:443
    headers:
      api-key: NEW_RELIC_LICENSE_KEY

service:
  telemetry:
    logs:
  pipelines:
    metrics:
      receivers: [dockerstats]
      processors: [attributes]
      exporters: [otlp]
```

For further configuration options, please review:

* [dockerstats receiver documentation](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/dockerstatsreceiver#configuration)
* [Opentelemetry Collector documentation](https://opentelemetry.io/docs/collector/configuration/)

## Step 4: Run the collector [#run-collector]

Run the Opentelemetry collector (the way to run it may vary depending on the chosen installation method). Example:

```yaml
/usr/bin/otelcol-contrib --config ./config.yaml
```

## Step 5: Find and use your data

### Explore your data

You may use the [metrics explorer](/docs/query-your-data/explore-query-data/browse-data/introduction-data-explorer) to check the metrics being ingested. All metrics reported by the docker stats receiver start by the `container.` prefix.

For a list of all the supported metrics, please refer to [the dockerstats receiver metrics reference](https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/receiver/dockerstatsreceiver/documentation.md).
