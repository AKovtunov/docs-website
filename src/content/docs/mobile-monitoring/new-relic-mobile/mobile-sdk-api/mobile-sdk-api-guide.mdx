---
title: Customize mobile instrumentation
tags:
  - Mobile monitoring
  - API guides
metaDescription: 'Customize our mobile agent instrumentation to send custom data and metrics to New Relic.'
---

While our mobile monitoring solution offers power out-of-the-box data collection, you may need to customize and extend the data your mobile app reports to New Relic, such as:

* Start and stop interaction traces from events in your mobile app
* Record custom metrics
* Send custom attributes and events
* Track network requests from libraries not supported automatically.
* Set custom IDs to user sessions

These customizations are available as public SDK API calls for your native (iOS and Android) or hybrid-based mobile app.

Our hybrid mobile agents (React Native, Xamarin, etc.) utilize these public iOS and Android SDK API calls.

## Get started

1. Make sure you have the latest mobile agent installed.
2. Use our API calls to customize instrumentation.

<Tabs>
	<TabsBar>
        <TabsBarItem id="android">
            Android
        </TabsBarItem>
        <TabsBarItem id="ios">
            iOS
        </TabsBarItem>
        <TabsBarItem id="capacitor">
            Capacitor
        </TabsBarItem>
        <TabsBarItem id="cordova">
            Cordova
        </TabsBarItem>
        <TabsBarItem id="flutter">
            Flutter
        </TabsBarItem>
        <TabsBarItem id="react">
            React Native
        </TabsBarItem>
        <TabsBarItem id="xamarin">
            Xamarin
        </TabsBarItem>
        <TabsBarItem id="maui">
            .NET MAUI
        </TabsBarItem>
    </TabsBar>
<TabsPages>
    <TabsPageItem id="android">Contents for tab one</TabsPageItem>
    <TabsPageItem id="ios">
      ## Objective-C: Report custom attributes and events [#objc-custom-att-events]

Use methods in the **NewRelic** object to [report custom attributes and events](/docs/insights/new-relic-insights/adding-querying-data/custom-attributes-events-new-relic-mobile). For details about the available methods for custom attributes and events with Objective-C, see the [iOS SDK API reference](/docs/mobile-monitoring/new-relic-mobile-ios/ios-sdk-api).

Methods that return `BOOL` results return `YES` if they succeed, or `NO` if the operation did not complete. These methods are available in versions 5.0.0 or higher of the New Relic iOS SDK.

The SDK can store up to 128 user-defined [custom attributes](/docs/insights/insights-data-sources/custom-events/insert-custom-events-attributes-mobile-data#event-definition) at a time. If you attempt to store more than 128 attributes, the SDK returns `NO`.

Custom attributes names should use the simplest format needed, and New Relic recommends single word attributes, containing no spaces. Attribute **phrases** can be formatted in camel case, so `My Custom Attribute` is better specified as `myCustomAttribute`. As with custom metrics:

* Avoid using the characters `/ ] [ | *` when naming things.
* Avoid multi-byte characters.

## Swift: Report custom attributes and events [#swift-custom-att-events]

Use methods in the **NewRelic** object to [report custom attributes and events](/docs/insights/new-relic-insights/adding-querying-data/custom-attributes-events-new-relic-mobile). For details about the available methods for custom attributes and events with Swift, see the [iOS SDK API reference](/docs/mobile-monitoring/new-relic-mobile-ios/ios-sdk-api).

Methods that return `BOOL` results return `YES` if they succeed, or `NO` if the operation did not complete. These methods are available in versions 5.0.0 or higher of the New Relic iOS SDK.

The SDK can store up to 128 user-defined [custom attributes](/docs/insights/insights-data-sources/custom-events/insert-custom-events-attributes-mobile-data#event-definition) at a time. If you attempt to store more than 128 attributes, the SDK returns `NO`.

Custom attributes names should use the simplest format needed, and New Relic recommends single word attributes, containing no spaces. Attribute **phrases** can be formatted in camel case, so `My Custom Attribute` is better specified as `myCustomAttribute`. As with custom metrics:

* Avoid using the characters `/ ] [ | *` when naming things.
* Avoid multi-byte characters.
    </TabsPageItem>
    <TabsPageItem id="capacitor">Contents for tab three</TabsPageItem>
    <TabsPageItem id="cordova">Contents for tab three</TabsPageItem>
    <TabsPageItem id="flutter">Contents for tab three</TabsPageItem>
    <TabsPageItem id="react">Contents for tab three</TabsPageItem>
    <TabsPageItem id="xamarin">Contents for tab three</TabsPageItem>
    <TabsPageItem id="maui">Contents for tab three</TabsPageItem>
  </TabsPages>
</Tabs>

## Use the API methods [#using-api]

The following table lists [all the New Relic Android SDK API calls](/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api), ordered by common use cases.

<table>
  <thead>
    <tr>
      <th style={{ width: "300px" }}>
        If you want to...
      </th>

      <th>
        Use this method
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td id="crash-analysis">
        Track app activity that may be helpful for troubleshooting crashes
      </td>

      <td>
        [Record breadcrumbs](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk-api/mobile-sdk-api-guide/record-breadcrumb).
      </td>
    </tr>

    <tr>
      <td id="creating">
        Track a method as an interaction
      </td>

      <td>
        [Start/stop interactions](/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/startinteraction-android-agent-api).
      </td>
    </tr>

    <tr>
      <td id="naming">
        Name or rename a custom interaction
      </td>

      <td>
        [Set interaction name](/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/setinteractionname-android-agent-api).
      </td>
    </tr>

    <tr>
      <td>
        Disable or enable all interactions
      </td>

      <td>
        See [`withInteractionTracing`](/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/withinteractiontracing-android-agent-api).
      </td>
    </tr>

    <tr>
      <td>
        Set an app version associated with an interaction
      </td>

      <td>
        See [`withApplicationVersion`](/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/withapplicationversion-android-agent-api).
      </td>
    </tr>

    <tr>
      <td>
        Set custom build ID
      </td>

      <td>
        See [`withApplicationBuild`](/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/withapplicationbuild-android-agent-api).
      </td>
    </tr>

    <tr>
      <td id="create-custom">
        Create custom metrics
      </td>

      <td>
        See [`recordMetric`](/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/recordmetric-android-agent-api).
      </td>
    </tr>

    <tr>
      <td id="attributes-events-insights">
        Report custom attributes and events
      </td>

      <td>
        There are several ways to add custom attributes and events. For more about which would be the best method to use and why, see [Add custom data](/docs/mobile-monitoring/new-relic-mobile/maintenance/add-custom-data-new-relic-mobile).

        * Create an attribute: [`setAttribute`](/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/setattribute-android-agent-api)
        * Increment an attribute count: [`incrementAttribute`](/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/incrementattribute-android-agent-api)
        * Remove an attribute: [`removeAttribute`](/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/removeattribute-android-agent-api)
        * Remove all attributes: [`removeAllAttributes`](/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/removeallattributes-android-agent-api)
        * Record custom event: [`recordCustomEvent`](/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/recordevent-android-agent-api)
        * Record a breadcrumb event: [`recordBreadcrumb`](/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/recordbreadcrumb)
        * Set the maximum size of an event pool: [`setMaxEventPoolSize`](/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/setmaxeventpoolsize-android-agent-api)
        * Set maximum time agent stores events in memory: [`setMaxEventBufferTime`](/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/setmaxeventbuffertime-android-agent-api)
        * Return the current session's ID: [`currentSessionId`](/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/currentsessionid-android-agent-api)
        * Set custom user ID for associating sessions with events and attributes: [`setUserId`](/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/setuserid-android-agent-api)
      </td>
    </tr>

    <tr>
      <td id="track-custom">
        Track custom network requests and failures
      </td>

      <td>
        Use these methods:

        * Record HTTP transactions at varying levels of detail: See [`noticeHttpTransaction`](/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/noticehttptransaction-android-agent-api).
        * Record network failures: See [`noticeNetworkFailure`](/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/noticenetworkfailure-android-agent-api).
      </td>
    </tr>

    <tr>
      <td>
        Record a handled exception as an event, including context
      </td>

      <td>
        See `recordHandledException()`.
      </td>
    </tr>

    <tr>
      <td>
        Record JavaScript errors from ReactNative apps
      </td>

      <td>
        See [`recordJSErrorException`](/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/record-jserror-exception).
      </td>
    </tr>

    <tr>
      <td>
        Set app launch time target activity
      </td>

      <td>
        See [`withLaunchActivityName`](/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/with-launch-activity-name).
      </td>
    </tr>

    <tr>
      <td>
        Shut down agent
      </td>

      <td>
        See [`shutdown`](/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/shut-down).
      </td>
    </tr>
  </tbody>
</table>



