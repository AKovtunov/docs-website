---
title: Record network request failures
type: apiDoc
shortDescription: 'Records network request failures.'
tags:
  - Mobile monitoring
  - Mobile SDK API
  - Custom instrumentation
metaDescription: Mobile app monitoring API to record a network request failure.
redirects:
  - /docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/notice-network-failure/
  - /docs/mobile-monitoring/new-relic-mobile-ios/ios-sdk-api/notice-network-failure/
  - /docs/mobile-monitoring/new-relic-mobile-ios/ios-sdk-api/notice-network-failure-ios-sdk-api
  - /docs/mobile-monitoring/new-relic-mobile-ios/ios-sdk-api/notice-network-failure-ios-sdk-api
---

<Tabs>
    <TabsBar>
        <TabsBarItem id="android">
            Android
        </TabsBarItem>
        <TabsBarItem id="ios">
            iOS
        </TabsBarItem>
        <TabsBarItem id="cordova">
            Cordova
        </TabsBarItem>
        <TabsBarItem id="flutter">
            Flutter
        </TabsBarItem>
        <TabsBarItem id="react">
            React Native
        </TabsBarItem>
        <TabsBarItem id="xamarin">
            Xamarin
        </TabsBarItem>
        <TabsBarItem id="maui">
            .NET MAUI
        </TabsBarItem>
    </TabsBar>

    <TabsPages>
        <TabsPageItem id="android">
## Syntax

```java
NewRelic.noticeNetworkFailure(string $url, string $httpMethod, long $startTime, long $endTime, exception $exception OR enum $networkFailure)
```

## Description

The New Relic Android SDK API provides several methods to [track network requests](/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/noticehttptransaction-android-agent-api). If a network request fails, you can record details about the failure with `noticeNetworkFailure`. In most cases, place this call inside exception handlers, such as catch blocks.

## Requirements

Compatible with agent versions 6.9.0 and below.

## Parameters

<table>
  <thead>
    <tr>
      <th width={200}>
        **Parameter**
      </th>

      <th>
        **Description**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `$url`

        String
      </td>

      <td>
        Required. The URL of the request.
      </td>
    </tr>

    <tr>
      <td>
        `$httpMethod`

        String
      </td>

      <td>
        Required. The HTTP method used, such as GET or POST.
      </td>
    </tr>

    <tr>
      <td>
        `$startTime`

        Long
      </td>

      <td>
        Required. The start time of the request in milliseconds since the epoch.
      </td>
    </tr>

    <tr>
      <td>
        `$endTime`

        Long
      </td>

      <td>
        Required. The end time of the request in milliseconds since the epoch.
      </td>
    </tr>

    <tr>
      <td>
        `$exception`

        String
      </td>

      <td>
        Either this or `$failure` parameter is required. This is the exception that occurred. New Relic can automatically translate many common exceptions into network failure types.
      </td>
    </tr>

    <tr>
      <td>
        `$failure`

        Enum
      </td>

      <td>
        Either this or `$exception` parameter is required. The type of network failure that occurred. If an exception cannot be resolved to a network failure automatically, this method can be used to categorize the failure accurately. The values are defined by the `NetworkFailure` enum. Valid values include `Unknown`, `BadURL`, `TimedOut`, `CannotConnectToHost`, `DNSLookupFailed`, `BadServerResponse`, and `SecureConnectionFailed`.
      </td>
    </tr>
  </tbody>
</table>

## Examples

Here’s an example of an error listener that uses an error as part of the noticed network failure to New Relic:

```java
new Response.ErrorListener() {
                            @Override
                            public void onErrorResponse(Error error) {
                                NewRelic.noticeNetworkFailure(badUrl, "GET", System.nanoTime(), System.nanoTime(), NetworkFailure.exceptionToNetworkFailure(error));
                            }
```

        </TabsPageItem>
        <TabsPageItem id="ios">

## Syntax

```
+ (void)noticeNetworkFailureForURL:(NSURL*)url
                        httpMethod:(NSString*)httpMethod
                         withTimer:(NRTimer*)timer
                    andFailureCode:(NSInteger)iOSFailureCode;
```

## Description

Failed requests are requests that fail to receive a complete response from
the server caused by things like TCP timeouts, SSL failures, connection closures, and more.

The failure codes you pass into this method should correlate to [Apple's documented
NSURLConnection failure codes](https://developer.apple.com/documentation/foundation/1508628-url_loading_system_error_codes).

## Requirements

Compatible with all agent versions.

## Parameters

<table>
  <thead>
    <tr>
      <th width={200}>
        **Parameter**
      </th>

      <th>
        **Description**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `$url`

        NSURL
      </td>

      <td>
        Required. The URL of the request.
      </td>
    </tr>
    <tr>
      <td>
        `$httpMethod`

        String
      </td>

      <td>
        Required. The HTTP method of the request.
      </td>
    </tr>
    <tr>
      <td>
        `$timer`

        NRTimer
      </td>

      <td>
        Required. A timer that captures the start and end of the request.
      </td>
    </tr>
    <tr>
      <td>
        `$iOSFailureCode`

        NSInteger
      </td>
      <td>
        Required. The failure codes you pass into this method should correlate to [Apple's documented
NSURLConnection failure codes](https://developer.apple.com/documentation/foundation/1508628-url_loading_system_error_codes).
      </td>
    </tr>
  </tbody>
</table>

## Examples

### Objective-C [#obj-c]

```objectivec
[NewRelic noticeNetworkFailureForURL:[NSURL URLWithString:@"https://www.newrelic.com"]
                          httpMethod:@"GET"
                           withTimer:[[NRTimer alloc] init]
                      andFailureCode:NSURLErrorTimedOut];
```

### Swift

```swift
NewRelic.noticeNetworkFailure(for: URL(string: "https://www.newrelic.com"), httpMethod: "GET",
                                with: NRTimer(), andFailureCode: NSURLErrorTimedOut)
```

        </TabsPageItem>
             
        <TabsBarItem id="cordova">
<TabsPageItem id="cordova">

## Syntax

```typescript
noticeNetworkFailure(url: string, httpMethod: string, startTime: number, endTime: number, failure: string): void;

```

## Description

Records network failures. If a network request fails, use this method to record details about the failures.

## Requirements

Cordova version _ or higher 

## Parameters

<table>
  <thead>
    <tr>
      <th width={200}>
        **Parameter**
      </th>

      <th>
        **Description**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `url`

        String
      </td>

      <td>
        Required. The URL of the request.
      </td>
    </tr>
    <tr>
      <td>
        `httpMethod`

        String
      </td>

      <td>
        Required. The HTTP method of the request.
      </td>
    </tr>

    <tr>
      <td>
        `startTime`

        Number
      </td>

      <td>
        Optional. The start time of the request in milliseconds since the epoch.
        `startTime` and `endTime` can be used as an alternative to `timer`.
      </td>
    </tr>

        <tr>
      <td>
        `endTime`

        Number
      </td>

      <td>
        Optional. The end time of the request in milliseconds since the epoch.
        `startTime` and `endTime` can be used as an alternative to `timer`.
      </td>
    </tr>

    <tr>
      <td>
        `failure`

        String
      </td>

      <td>
        Optional. In most cases, place this call inside exception handlers, such as catch blocks. Supported failures are: `Unknown`, `BadURL`, `TimedOut`, `CannotConnectToHost`, `DNSLookupFailed`, `BadServerResponse`, `SecureConnectionFailed`.
      </td>
    </tr>
  </tbody>
</table>

## Example

  ```js
NewRelic.noticeNetworkFailure('https://fakewebsite.com', 'GET', Date.now(), Date.now(), 'BadURL');
  ```

        </TabsPageItem>  
        <TabsPageItem id="flutter">

## Syntax

```dart
noticeNetworkFailure(String url,String httpMethod,int startTime,int endTime,NetworkFailure errorCode): void;
```

## Description

Records network failures. If a network request fails, use this method to record details about the failures.

## Requirements

Flutter agent _ or higher

## Parameters

<table>
  <thead>
    <tr>
      <th width={200}>
        **Parameter**
      </th>

      <th>
        **Description**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `url`

        String
      </td>

      <td>
        Required. The URL of the request.
      </td>
    </tr>
    <tr>
      <td>
        `httpMethod`

        String
      </td>

      <td>
        Required. The HTTP method of the request.
      </td>
    </tr>

    <tr>
      <td>
        `startTime`

        Integer
      </td>

      <td>
        Optional. The start time of the request in milliseconds since the epoch.
        `startTime` and `endTime` can be used as an alternative to `timer`.
      </td>
    </tr>

        <tr>
      <td>
        `endTime`

        Integer
      </td>

      <td>
        Optional. The end time of the request in milliseconds since the epoch.
        `startTime` and `endTime` can be used as an alternative to `timer`.
      </td>
    </tr>

    <tr>
      <td>
        `errorCode`

        Network failure
      </td>

      <td>
        Required. In most cases, place this call inside exception handlers, such as catch blocks. Supported failures are: `Unknown`, `BadURL`, `TimedOut`, `CannotConnectToHost`, `DNSLookupFailed`, `BadServerResponse`, `SecureConnectionFailed`.
      </td>
    </tr>
  </tbody>
</table>

## Example

```dart
NewrelicMobile.instance.noticeNetworkFailure("https://cb6b02be-a319-4de5-a3b1-361de2564493.mock.pstmn.io/searchpage", "GET", 1000, 2000,'Test Network Failure', NetworkFailure.dnsLookupFailed);
```
        </TabsPageItem>
        <TabsPageItem id="react">

## Syntax

```js
noticeNetworkFailure(url: string, httpMethod: string, startTime: number, endTime: number, failure: string): void;
```

## Description

Records network failures. If a network request fails, use this method to record details about the failures. In most cases, place this call inside exception handlers, such as catch blocks.

## Requirements

React Native _ or higher


## Parameters

<table>
  <thead>
    <tr>
      <th width={200}>
        **Parameter**
      </th>

      <th>
        **Description**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `url`

        String
      </td>

      <td>
        Required. The URL of the request.
      </td>
    </tr>
    <tr>
      <td>
        `httpMethod`

        String
      </td>

      <td>
        Required. The HTTP method of the request.
      </td>
    </tr>

    <tr>
      <td>
        `startTime`

        Number
      </td>

      <td>
        Optional. The start time of the request in milliseconds since the epoch.
        `startTime` and `endTime` can be used as an alternative to `timer`.
      </td>
    </tr>

        <tr>
      <td>
        `endTime`

        Number
      </td>

      <td>
        Optional. The end time of the request in milliseconds since the epoch.
        `startTime` and `endTime` can be used as an alternative to `timer`.
      </td>
    </tr>

    <tr>
      <td>
        `failure`

        String
      </td>

      <td>
        Required. In most cases, place this call inside exception handlers, such as catch blocks. Supported failures are: `Unknown`, `BadURL`, `TimedOut`, `CannotConnectToHost`, `DNSLookupFailed`, `BadServerResponse`, `SecureConnectionFailed`.
      </td>
    </tr>
  </tbody>
</table>

## Example

 ```js
         NewRelic.noticeNetworkFailure('https://github.com', 'GET', Date.now(), Date.now(), NewRelic.NetworkFailure.BadURL);
  ```

        </TabsPageItem>
        <TabsPageItem id="xamarin">

## Syntax

```csharp
NoticeNetworkFailure(string url, string httpMethod, int statusCode, long startTime,long endTime, long bytesSent, long bytesReceived, string responseBody): void;
```

## Description

Records network failures. If a network request fails, use this method to record details about the failure.

## Requirements

Xamarin agent version _ or higher

## Parameters

<table>
  <thead>
    <tr>
      <th width={200}>
        **Parameter**
      </th>

      <th>
        **Description**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `url`

        String
      </td>

      <td>
        Required. The URL of the request.
      </td>
    </tr>

    <tr>
      <td>
        `httpMethod`

        String
      </td>

      <td>
        Required. The HTTP method used, such as GET or POST.
      </td>
    </tr>

    <tr>
      <td>
        `statusCode`

        Integer
      </td>

      <td>
        Required. The start time of the request in milliseconds since the epoch.
      </td>
    </tr>
    
       <tr>
      <td>
        `startTime`

        Long
      </td>

      <td>
        Required. The start time of the request in milliseconds since the epoch.
      </td>
    </tr>

    <tr>
      <td>
        `endTime`

        Long
      </td>

      <td>
        Required. The end time of the request in milliseconds since the epoch.
      </td>
    </tr>

    <tr>
      <td>
        `bytesSent`

        Long
      </td>

      <td>
        Optional. The number of bytes sent in the response. f you do not provide a value for the `bytesSent` or `bytesReceived` parameters, the values will be set to 0.
      </td>
    </tr>

    <tr>
      <td>
        `bytesReceived`

        Long
      </td>

      <td>
        Optional. The number of bytes received in the response. f you do not provide a value for the `bytesSent` or `bytesReceived` parameters, the values will be set to 0.
      </td>
    </tr>

    <tr>
      <td>
        `responseBody`

        String
      </td>

      <td>
        Optional. The response body of the HTTP response.
      </td>
    </tr>
  </tbody>
</table>


## Example

``` csharp
CrossNewRelicClient.Current.NoticeNetworkFailure(
      "https://fakewebsite.com",
      "GET",
      DateTimeOffset.Now.ToUnixTimeMilliseconds(),
      DateTimeOffset.Now.ToUnixTimeMilliseconds() + 100,
      NetworkFailure.Unknown
    );

```

        </TabsPageItem>
        <TabsPageItem id="maui">

## Syntax

```csharp
NoticeNetworkFailure(string url, string httpMethod, int statusCode, long startTime,long endTime, long bytesSent, long bytesReceived, string responseBody): void;
```

## Description

Records network failures. If a network request fails, use this method to record details about the failure.

## Requirements

.NET MAUI agent version _ or higher

## Parameters

<table>
  <thead>
    <tr>
      <th width={200}>
        **Parameter**
      </th>

      <th>
        **Description**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `url`

        String
      </td>

      <td>
        Required. The URL of the request.
      </td>
    </tr>

    <tr>
      <td>
        `httpMethod`

        String
      </td>

      <td>
        Required. The HTTP method used, such as GET or POST.
      </td>
    </tr>

    <tr>
      <td>
        `statusCode`

        Integer
      </td>

      <td>
        Required. The start time of the request in milliseconds since the epoch.
      </td>
    </tr>
    
       <tr>
      <td>
        `startTime`

        Long
      </td>

      <td>
        Required. The start time of the request in milliseconds since the epoch.
      </td>
    </tr>

    <tr>
      <td>
        `endTime`

        Long
      </td>

      <td>
        Required. The end time of the request in milliseconds since the epoch.
      </td>
    </tr>

    <tr>
      <td>
        `bytesSent`

        Long
      </td>

      <td>
        Optional. The number of bytes sent in the response. f you do not provide a value for the `bytesSent` or `bytesReceived` parameters, the values will be set to 0.
      </td>
    </tr>

    <tr>
      <td>
        `bytesReceived`

        Long
      </td>

      <td>
        Optional. The number of bytes received in the response. f you do not provide a value for the `bytesSent` or `bytesReceived` parameters, the values will be set to 0.
      </td>
    </tr>

    <tr>
      <td>
        `responseBody`

        String
      </td>

      <td>
        Optional. The response body of the HTTP response.
      </td>
    </tr>
  </tbody>
</table>

## Example

``` C#
        CrossNewRelic.Current.NoticeNetworkFailure(
      "https://fakewebsite.com",
      "GET",
      DateTimeOffset.Now.ToUnixTimeMilliseconds(),
      DateTimeOffset.Now.ToUnixTimeMilliseconds() + 100,
      NetworkFailure.Unknown
    );
```

        </TabsPageItem>
    </TabsPages>
</Tabs>
