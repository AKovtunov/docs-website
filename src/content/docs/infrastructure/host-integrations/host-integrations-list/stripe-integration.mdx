---
title: Stripe integration
tags:
  - Stripe integration
  - New Relic integration
metaDescription: Install our Stripe dashboards and see your Stripe data in New Relic.  
---
import infrastructureStripeDashboard from 'images/infrastructure_screenshot-stripe-dashboard.webp'

By utilizing New Relic Stripe dashboard, you gain the ability to monitor your application's transaction overview, transaction volume, revenue and transaction errors effortlessly. The Stripe dashboard is developed with our application specific monitoring agent, browser monitoring agent offering you a consolidated view of critical data, conveniently accessible in one central location.

<img
    title="Stripe"
    alt="Stripe dashboard"
    src={infrastructureStripeDashboard}
/>

<figcaption>
After setting up our Stripe, you can install a dashboard for your Stripe metrics. 
</figcaption>

## Install the infrastructure agent [#infra]

Before getting Stripe data into New Relic, first install our infrastructure agent, and then you will be able to get details about your host, such as CPU usage, memory usage, storage usage, network traffic, and more.

Follow our [guided install](https://one.newrelic.com/nr1-core?state=999174fa-ed8b-d707-af7b-8e4f8fd03cc1) to instrument your system with the infrastructure agent. Or if you prefer, you can manually install the infrastructure agent by following the [installation docs](/docs/infrastructure/install-infrastructure-agent/get-started/install-infrastructure-agent/). 
* By integrating this [infrastructure agent](https://docs.newrelic.com/docs/infrastructure/install-infrastructure-agent/get-started/install-infrastructure-agent/) in your system, one can able to 
  know the CPU usage, Memory usage, Storage usage and Network traffic etc.
 
## Install an application-specific New Relic agent

* Follow the steps in our [guided install](https://one.newrelic.com/nr1-core?state=999174fa-ed8b-d707-af7b-8e4f8fd03cc1) to install on of our agents based on your application type.

## Install our browser monitoring agent
Our browser monitoring agent reports application and browser-related metrics like AJAX performance, error rate, duration, core web vitals, and throughput.
* See [Install the browser monitoring agent](/docs/browser/browser-monitoring/installation/install-browser-monitoring-agent/) to get started.
## Set up synthetic monitoring
Our synthetic monitors test your app in different locations and capture server downtime. You can view this data in the Stripe dashboard.

To set up synthetic monitors, follow the steps in our [guided install](https://onenr.io/0EjOXrnxgQ6)

## Send metrics to New Relic
Check the [Metric API documentation](/docs/data-apis/ingest-apis/metric-api/report-metrics-metric-api/) for further details.

To proceed further, you will need a New Relic license key. See [New Relic API Keys](/docs/apis/intro-apis/new-relic-api-keys/) to get your license key.
On a successful stripe payment, we receive a JSON from the stripe API service. We need to send these values to New Relic by formatting the JSON as per New Relic Metric API requirements.

Below is the javascript code snippet which formats the data and sends it to New Relic metric API URL
```javascript
const sendDataToNewRelic = (sessionJSON) => {
  const currentDate = new Date();
  const currentTime = currentDate.getTime();
  const nrMetrics = [{
    "metrics": [
      {
        "name": "stripe_metrics",
        "timestamp": currentTime,
        "value": 0,
        "attributes": {
          "stripe.session_id": sessionJSON.id,
          "stripe.amount_total": sessionJSON.amount_total,
          "stripe.customer_email": sessionJSON.customer_details.email,
          "stripe.created_at": sessionJSON.created,
          "stripe.currency" : sessionJSON.currency,
          "stripe.payment_status": sessionJSON.payment_status,
          "stripe.status": sessionJSON.status,
          "stripe.discount_amount":sessionJSON.total_details.amount_discount,
          "stripe.shipping_amount":sessionJSON.total_details.amount_shipping,
          "stripe.tax_amount":sessionJSON.total_details.amount_tax
        }
      }
    ]
  }]

  const nrMetricAPI = 'https://metric-api.newrelic.com/metric/v1'
  axios({
    url: nrMetricAPI,
    method: 'POST',
    headers: {
      'Content-Type': 'application/x-www-form-urlencoded',
      'Api-Key': 'LICENSE_KEY'
     },
    data: JSON.stringify(nrMetrics)
  })
   .then((response) => {
    // Handle the response here if needed
    console.log('Metrics data sent successfully:', response.data);
  })
  .catch((error) => {
    // Handle any errors that occur during the request
    console.error('Error sending metrics data to New Relic:', error);
  })
}

```
**Note:** Change the `sessionJSON` according to your response and call this function where you are getting Stripe metrics in your application.
``````javascript
 sendDataToNewRelic (session)
```

## Monitor your application
You can choose our pre-built Stripe dashboard to monitor your application metrics. To set up this dashboard:
1. Go to **[one.newrelic.com](https://one.newrelic.com/)** and click on **+ Add data**.
2.  Click on the **Dashboards** tab.
3.  In the search box, type `Stripe`.
4.  When you see our pre-build dashboard, click on it to install it in your account.

Once your application is integrated by following the above steps, the dashboard should display metrics.

To instrument the Stripe quickstart and to see metrics and alerts, you can also follow our [Stripe quickstart page](https://newrelic.com/instant-observability/stripe) by clicking on the **Install now** button.

Here's a sample query to check the net revenue ($) obtained from Stripe:
```sql
SELECT stripe.amount_total FROM Metric WHERE metricName = 'stripe_metrics'
```

## What's next?

To learn more about building NRQL queries and generating dashboards, check out these docs:

* [Introduction to the query builder](/docs/query-your-data/explore-query-data/query-builder/introduction-query-builder) to create basic and advanced queries.
* [Introduction to dashboards](/docs/query-your-data/explore-query-data/dashboards/introduction-dashboards) to customize your dashboard and carry out different actions.
* [Manage your dashboard](/docs/query-your-data/explore-query-data/dashboards/manage-your-dashboard) to adjust your <InlinePopover type="dashboards" /> display mode, or to add more content to your dashboard.
